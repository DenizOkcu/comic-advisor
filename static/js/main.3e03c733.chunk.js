(this["webpackJsonpcomic-advisor"]=this["webpackJsonpcomic-advisor"]||[]).push([[0],{22:function(e,t,c){},41:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var i=c(2),n=c(13),r=c.n(n),s=(c(22),c(3)),a=c(14),o=c(17),l=c(16),d=c(15),u=c.n(d),h=(c(41),c(0)),j=function(){return Object(h.jsxs)("header",{children:[Object(h.jsx)("h1",{children:"What should I read today?"}),Object(h.jsx)("h5",{children:"Your humble Comic Advisor"})]})},m=function(e){var t=e.link,c=e.text,i=e.classes,n=e.clickFunction,r=e.blank,s=void 0!==r&&r;return Object(h.jsx)("a",{href:t,target:s?"_blank":"",rel:"noopener noreferrer",className:i,onClick:n,children:c})},b=function(e){var t=e.creators.map((function(e){return Object(h.jsx)("li",{children:"".concat(e.name," (").concat(e.role,")")},e.id)}));return Object(h.jsxs)("section",{children:[Object(h.jsx)("b",{children:"Created by:"}),Object(h.jsx)("ul",{children:t})]})},f=function(e){var t=e.characters.map((function(e){return Object(h.jsx)("li",{children:"".concat(e.name)},e.id)}));return Object(h.jsxs)("section",{children:[Object(h.jsx)("b",{children:"Characters in this issue:"}),Object(h.jsx)("ul",{children:t})]})},O=(c(43),function(e){var t=e.comic,c=e.detailsHiddenOnMobile,i=e.clickToCloseDetails;return t&&Object(h.jsxs)("article",{className:"details"+(c?" hidden-on-mobile":" visible-on-mobile"),children:[Object(h.jsx)("div",{onClick:i,className:"close-details hidden-on-gt-mobile",children:"close"}),Object(h.jsx)("p",{className:"detail-title",children:t.title}),Object(h.jsxs)("div",{className:"detail-cover-text-container",children:[Object(h.jsx)("div",{className:"detail-cover",children:Object(h.jsx)("img",{src:t.coverPath,className:"",alt:t.title})}),Object(h.jsxs)("div",{className:"detail-text",children:[t.characters&&t.characters.length>0&&Object(h.jsx)(f,{characters:t.characters}),t.creators&&t.creators.length>0&&Object(h.jsx)(b,{creators:t.creators}),Object(h.jsx)("b",{children:"Release:"})," ",t.date]})]}),Object(h.jsx)(m,{link:t.purchaseLink,text:"Learn more",classes:["primary-button"],blank:!0})]})||null}),v=(c(44),function(e){var t=e.comic,c=e.active,i=e.selectComic;return Object(h.jsxs)("section",{className:"list-item"+(c?" active":""),onClick:function(){i(t.id)},children:[Object(h.jsx)("div",{className:"list-item-cover",children:Object(h.jsx)("img",{src:t.coverPath,alt:t.title})}),Object(h.jsxs)("div",{className:"list-item-description",children:[Object(h.jsx)("div",{children:Object(h.jsx)("b",{children:t.title})}),t.writer?Object(h.jsxs)("div",{className:"",children:["by ",t.writer.name]}):"",Object(h.jsxs)("div",{children:["Price: ",t.price]})]})]})}),x=(c(45),function(e){var t=e.comics,c=e.selectedComic,i=e.selectComic,n=e.fetchComics,r=t&&t.length>0&&t.map((function(e){return Object(h.jsx)(v,{comic:e,selectComic:i,active:c&&c.id===e.id},e.id)}));return Object(h.jsxs)("aside",{className:"comics-list",children:[r,Object(h.jsx)(m,{text:"Load more",classes:["random-button"],clickFunction:function(e){n(),e.preventDefault()}})]})}),p=function e(){var t=this;Object(s.a)(this,e),this.formatPrice=function(e){return e&&"$".concat(e)},this.formatDate=function(e){var t=new Date(Date.parse(e)).toDateString();return"Invalid Date"!==t?t:"No Date available"},this.serialize=function(e){return e.data.results.map((function(e){var c={};try{c.coverPath="".concat(e.thumbnail.path,".").concat(e.thumbnail.extension).replace("http:","https:"),c.creators=e.creators.items.map((function(e,t){return e.id=t,e})),c.writer=c.creators.find((function(e){return"writer"===e.role||"inker"===e.role||"editor"===e.role})),c.characters=e.characters.items.map((function(e,t){return e.id=t,e})),c.id=e.id,c.pageCount=e.pageCount||"-",c.price=t.formatPrice(e.prices.find((function(e){return"printPrice"===e.type})).price||"-"),c.title=e.title||"No Title",c.description=e.description,c.purchaseLink=e.urls.find((function(e){return"purchase"===e.type||"detail"===e.type})).url,c.date=t.formatDate(e.dates.find((function(e){return"focDate"===e.type||"onsaleDate"===e.type})).date)}catch(i){console.log(i)}return c})).filter((function(e){return e.id&&e.title&&e.purchaseLink&&e.coverPath}))}},C="e4d9813c604e68af2b80750496961901",k="https://gateway.marvel.com/v1/public/comics",g=(c(46),function(e){Object(o.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(s.a)(this,c);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={comics:null,selectedComicId:null,detailsHiddenOnMobile:!0,error:null},e.fetchComics=function(){var t=Math.ceil(1e4*Math.random()),c="".concat(k,"?limit=").concat(6,"&offset=").concat(t,"&apikey=").concat(C);e.setState({comics:null}),e.setState({selectedComicId:null}),u.a.get(c).then((function(t){var c=(new p).serialize(t.data);e.setState({comics:c}),e.setState({selectedComicId:c[0]&&c[0].id})})).catch((function(t){e.setState({error:t})}))},e.selectComic=function(t){e.setState({selectedComicId:t}),e.setState({detailsHiddenOnMobile:!1})},e.clickToCloseDetails=function(){e.setState({detailsHiddenOnMobile:!0})},e}return Object(a.a)(c,[{key:"componentDidMount",value:function(){this.fetchComics()}},{key:"render",value:function(){var e=this,t=this.state.comics,c=t&&t.find((function(t){return t.id===e.state.selectedComicId})),i=this.state.error?Object(h.jsx)("main",{className:"loading-wrapper",children:Object(h.jsx)("div",{className:"loading-title",children:"An error occurred. Please come back later."})}):Object(h.jsxs)("main",{className:"loading-wrapper",children:[Object(h.jsx)("div",{className:"loading-title",children:"Your comics are loading"}),Object(h.jsxs)("div",{className:"loading-ripple",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})]}),n=Object(h.jsxs)("main",{children:[Object(h.jsx)(x,{comics:t,selectedComic:c,selectComic:this.selectComic,fetchComics:this.fetchComics}),Object(h.jsx)(O,{comic:c,detailsHiddenOnMobile:this.state.detailsHiddenOnMobile,clickToCloseDetails:this.clickToCloseDetails})]});return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(j,{}),t?n:i]})}}]),c}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(h.jsx)(g,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.3e03c733.chunk.js.map