(window["webpackJsonpcomic-advisor"]=window["webpackJsonpcomic-advisor"]||[]).push([[0],{18:function(e,t,a){e.exports=a(46)},23:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(12),r=a.n(i),l=(a(23),a(2)),o=a(13),s=a(16),m=a(14),u=a(17),d=a(15),h=a.n(d),f=(a(41),function(){return c.a.createElement("header",null,c.a.createElement("h1",null,"What should I read today?"),c.a.createElement("h5",null,"Your humble Comic Advisor"))}),p=function(e){var t=e.link,a=e.text,n=e.classes,i=e.clickFunction,r=e.blank,l=void 0!==r&&r;return c.a.createElement("a",{href:t,target:l?"_blank":"",rel:"noopener noreferrer",className:n,onClick:i},a)},v=function(e){var t=e.creators.map(function(e){return c.a.createElement("li",{key:e.id},"".concat(e.name," (").concat(e.role,")"))});return c.a.createElement("section",null,c.a.createElement("b",null,"Created by:"),c.a.createElement("ul",null,t))},E=function(e){var t=e.characters.map(function(e){return c.a.createElement("li",{key:e.id},"".concat(e.name))});return c.a.createElement("section",null,c.a.createElement("b",null,"Characters in this issue:"),c.a.createElement("ul",null,t))},b=(a(42),function(e){var t=e.comic,a=e.detailsHiddenOnMobile,n=e.clickToCloseDetails;return t&&c.a.createElement("article",{className:"details"+(a?" hidden-on-mobile":" visible-on-mobile")},c.a.createElement("div",{onClick:n,className:"close-details hidden-on-gt-mobile"},"close"),c.a.createElement("p",{className:"detail-title"},t.title),c.a.createElement("div",{className:"detail-cover-text-container"},c.a.createElement("div",{className:"detail-cover"},c.a.createElement("img",{src:t.coverPath,className:"",alt:t.title})),c.a.createElement("div",{className:"detail-text"},t.characters&&t.characters.length>0&&c.a.createElement(E,{characters:t.characters}),t.creators&&t.creators.length>0&&c.a.createElement(v,{creators:t.creators}),c.a.createElement("b",null,"Release:")," ",t.date)),c.a.createElement(p,{link:t.purchaseLink,text:"Learn more...",classes:["primary-button"],blank:!0}))||null}),C=(a(43),function(e){var t=e.comic,a=e.active,n=e.selectComic;return c.a.createElement("section",{className:"list-item"+(a?" active":""),onClick:function(){n(t.id)}},c.a.createElement("div",{className:"list-item-cover"},c.a.createElement("img",{src:t.coverPath,alt:t.title})),c.a.createElement("div",{className:"list-item-description"},c.a.createElement("div",null,c.a.createElement("b",null,t.title)),t.writer?c.a.createElement("div",{className:""},"by ",t.writer.name):"",c.a.createElement("div",{className:""},"Price: ",t.price)))}),k=(a(44),function(e){var t=e.comics,a=e.selectedComic,n=e.selectComic,i=e.fetchComics,r=t&&t.length>0&&t.map(function(e){return c.a.createElement(C,{key:e.id,comic:e,selectComic:n,active:a&&a.id===e.id})});return c.a.createElement("aside",{className:"comics-list"},r,c.a.createElement(p,{text:"Load more",classes:["random-button"],clickFunction:function(e){i(),e.preventDefault()}}))}),g=function e(){var t=this;Object(l.a)(this,e),this.formatPrice=function(e){return e&&"$".concat(e)},this.formatDate=function(e){var t=new Date(Date.parse(e)).toDateString();return"Invalid Date"!==t?t:"No Date available"},this.serialize=function(e){return e.data.results.map(function(e){var a={};try{a.coverPath="".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),a.creators=e.creators.items.map(function(e,t){return e.id=t,e}),a.writer=a.creators.find(function(e){return"writer"===e.role||"inker"===e.role||"editor"===e.role}),a.characters=e.characters.items.map(function(e,t){return e.id=t,e}),a.id=e.id,a.pageCount=e.pageCount||"-",a.price=t.formatPrice(e.prices.find(function(e){return"printPrice"===e.type}).price||"-"),a.title=e.title||"No Title",a.description=e.description,a.purchaseLink=e.urls.find(function(e){return"purchase"===e.type||"detail"===e.type}).url,a.date=t.formatDate(e.dates.find(function(e){return"focDate"===e.type||"onsaleDate"===e.type}).date)}catch(n){console.log(n)}return a}).filter(function(e){return e.id&&e.title&&e.purchaseLink&&e.coverPath})}},y={publicApiKey:"e4d9813c604e68af2b80750496961901",apiUrl:"https://gateway.marvel.com/v1/public/comics"},w=(a(45),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={comics:null,selectedComicId:null,detailsHiddenOnMobile:!0,error:null},a.fetchComics=function(){var e=Math.ceil(1e4*Math.random()),t="".concat(y.apiUrl,"?limit=").concat(5,"&offset=").concat(e,"&apikey=").concat(y.publicApiKey);a.setState({comics:null}),h.a.get(t).then(function(e){var t=(new g).serialize(e.data);a.setState({comics:t}),a.setState({selectedComicId:t[0]&&t[0].id})}).catch(function(e){a.setState({error:e})})},a.selectComic=function(e){a.setState({selectedComicId:e}),a.setState({detailsHiddenOnMobile:!1})},a.clickToCloseDetails=function(){a.setState({detailsHiddenOnMobile:!0})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchComics()}},{key:"render",value:function(){var e=this,t=this.state.comics,a=t&&t.find(function(t){return t.id===e.state.selectedComicId}),n=this.state.error?c.a.createElement("main",{className:"loading-wrapper"},c.a.createElement("div",{className:"loading-title"},"An error occurred. Please come back later.")):c.a.createElement("main",{className:"loading-wrapper"},c.a.createElement("div",{className:"loading-title"},"Your comics are loading"),c.a.createElement("div",{className:"loading-ripple"},c.a.createElement("div",null),c.a.createElement("div",null))),i=c.a.createElement("main",null,c.a.createElement(k,{comics:t,selectedComic:a,selectComic:this.selectComic,fetchComics:this.fetchComics}),c.a.createElement(b,{comic:a,detailsHiddenOnMobile:this.state.detailsHiddenOnMobile,clickToCloseDetails:this.clickToCloseDetails}));return c.a.createElement("div",{className:"container"},c.a.createElement(f,null),t?i:n)}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.6c4131d6.chunk.js.map